var Growthbeat;!function(a,b){function c(){if(a.XMLHttpRequest)return new a.XMLHttpRequest;try{return new a.ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(b){}throw new Error("no xmlhttp request able to be created")}function d(a,b,c){a[b]=a[b]||c}b.ajax=function(a,b){"string"==typeof a&&(a={url:a});var e=a.headers||{},f=a.body,g=a.method||(f?"POST":"GET"),h=a.withCredentials||!1,i=c();i.onreadystatechange=function(){4==i.readyState&&b(i.status,i.responseText,i)},f&&(d(e,"X-Requested-With","XMLHttpRequest"),d(e,"Content-Type","application/x-www-form-urlencoded")),i.open(g,a.url,!0),i.withCredentials=h;for(var j in e)i.setRequestHeader(j,e[j]);i.send(f)},Growthbeat.nanoajax=b}(window,Growthbeat||(Growthbeat={}));var Growthbeat;!function(a){var b=function(){function b(a){this.baseUrl=a}return b.prototype.get=function(b,c,d,e,f){switch(b){case a.HttpRequestType.normal:this.requestOwnDomain(c,"GET",d,e,f);break;case a.HttpRequestType.cors:this.requestByCors(c,"GET",d,e,f)}},b.prototype.post=function(b,c,d,e,f){switch(b){case a.HttpRequestType.normal:this.requestOwnDomain(c,"POST",d,e,f);break;case a.HttpRequestType.cors:this.requestByCors(c,"POST",d,e,f)}},b.prototype.put=function(b,c,d,e,f){switch(b){case a.HttpRequestType.normal:this.requestOwnDomain(c,"PUT",d,e,f);break;case a.HttpRequestType.cors:this.requestByCors(c,"PUT",d,e,f)}},b.prototype["delete"]=function(b,c,d,e,f){switch(b){case a.HttpRequestType.normal:this.requestOwnDomain(c,"DELETE",d,e,f);break;case a.HttpRequestType.cors:this.requestByCors(c,"DELETE",d,e,f)}},b.prototype.jsonPRequest=function(b,c,d,e,f){var g=document.createElement("script");d.callback=b,g.src=this.baseUrl+c+a.HttpUtils.serializeObjectForURI(d),document.head.appendChild(g),window[b]=function(a){e(a)}},b.prototype.requestOwnDomain=function(a,c,d,e,f){var g={Accept:b.APPLICATION_JSON,"Content-Type":b.APPLICATION_FORM_URLENCODED};this.request(a,c,g,d,!1,e,f)},b.prototype.requestByCors=function(a,b,c,d,e){var f={};this.request(a,b,f,c,!0,d,e)},b.prototype.request=function(b,c,d,e,f,g,h){var i="";"GET"==c?b+=a.HttpUtils.serializeObjectForURI(e):i+=a.HttpUtils.serializeObjectForBody(e),a.nanoajax.ajax({url:this.baseUrl+b,method:c,headers:a.HttpUtils.serializeObjectForHeader(d),body:i,withCredentials:!0},function(b,c){200!=b&&h(new a.Error(c)),g(c)})},b.APPLICATION_JSON="application/json",b.APPLICATION_FORM_URLENCODED="application/x-www-form-urlencoded",b}();a.HttpClient=b}(Growthbeat||(Growthbeat={}));var Growthbeat;!function(a){var b=function(){function b(){this.httpClient=new a.HttpClient(b.DEFAULT_BASE_URL),this.applicationId=null,this.credentialId=null,this.initialized=!1,this.client=null}return b.getInstance=function(){return this.instance},b.prototype.initialize=function(b,c){var d=this;this.initialized||(this.initialized=!0,this.applicationId=b,this.credentialId=c,a.Client.create(this.applicationId,this.credentialId,function(b){a.Client.save(b),d.client=b},function(a){}))},b.prototype.getHttpClient=function(){return this.httpClient},b.DEFAULT_BASE_URL="https://api.growthbeat.com/",b.instance=new b,b}();a.GrowthbeatCore=b}(Growthbeat||(Growthbeat={}));var Growthbeat;!function(a){var b=function(){function b(a){void 0!=a&&(this.id=a.id,this.created=a.created)}return b.save=function(a){},b.load=function(){},b.create=function(c,d,e,f){a.GrowthbeatCore.getInstance().getHttpClient().jsonPRequest("createClient","1/clients/create",{applicationId:c,credentialId:d},function(a){e(new b(a))},function(a){f(a)})},b}();a.Client=b}(Growthbeat||(Growthbeat={}));var Growthbeat;!function(a){var b=function(){function a(a){void 0!=a&&(a=JSON.parse(a),this.setCode(a.code),this.setMessage(a.message))}return a.prototype.getMessage=function(){return this.message},a.prototype.setMessage=function(a){return this.message=a},a.prototype.getCode=function(){return this.code},a.prototype.setCode=function(a){return this.code=a},a}();a.Error=b}(Growthbeat||(Growthbeat={}));var Growthbeat;!function(a){!function(a){a[a.normal=0]="normal",a[a.cors=1]="cors",a[a.jsonp=2]="jsonp"}(a.HttpRequestType||(a.HttpRequestType={}));var b=a.HttpRequestType,c=function(){function a(){}return a.valueOf=function(a){switch(a){case"normal":return b.normal;case"cors":return b.cors;default:return void 0}},a.toString=function(a){switch(a){case b.normal:return"normal";case b.cors:return"cors";default:return void 0}},a}();a.HttpRequestTypeUtils=c}(Growthbeat||(Growthbeat={}));var Growthbeat;!function(a){var b=function(){function a(){}return a}();a.Uuid=b}(Growthbeat||(Growthbeat={}));var Growthbeat;!function(a){var b=function(){function a(){}return a.prototype.get=function(a){if(!document.cookie)return null;var b=document.cookie.split(";");for(var c in b){var d=b[c].split("=");if(d[0].trim()===a)return decodeURIComponent(d[1])}},a.prototype.set=function(a,b,c){var d=a+"="+encodeURIComponent(b);d+="; path=/",d+="; expires="+new Date((new Date).getTime()+c).toUTCString(),document.cookie=d},a.prototype["delete"]=function(a){document.cookie=a+"=; path=/; expires="+new Date(0).toUTCString()},a}();a.CookieUtils=b}(Growthbeat||(Growthbeat={}));var Growthbeat;!function(a){var b=function(){function a(){}return a.prototype.formatDate=function(a,b){if(b||(b="YYYY-MM-DD hh:mm:ss.SSS"),b=b.replace(/YYYY/g,a.getFullYear().toString()),b=b.replace(/YY/g,(a.getFullYear()%100).toString()),b=b.replace(/MM/g,("0"+(a.getMonth()+1)).slice(-2)),b=b.replace(/DD/g,("0"+a.getDate()).slice(-2)),b=b.replace(/hh/g,("0"+a.getHours()).slice(-2)),b=b.replace(/mm/g,("0"+a.getMinutes()).slice(-2)),b=b.replace(/ss/g,("0"+a.getSeconds()).slice(-2)),b.match(/S/g))for(var c=("00"+a.getMilliseconds()).slice(-3),d=b.match(/S/g).length,e=0;d>e;e++)b=b.replace(/S/,c.substring(e,e+1));return b},a}();a.DateUtils=b}(Growthbeat||(Growthbeat={}));var Growthbeat;!function(a){var b=function(){function a(){}return a.prototype.getUserAgent=function(){var a=window.navigator.userAgent.toLowerCase();return a},a}();a.DeviceUtils=b}(Growthbeat||(Growthbeat={}));var Growthbeat;!function(a){var b=function(){function a(){}return a.serializeObjectForURI=function(a){return"?"+Object.keys(a).map(function(b){return b+"="+encodeURIComponent(a[b])}).join("&")},a.serializeObjectForBody=function(a){return Object.keys(a).map(function(b){return b+"="+encodeURIComponent(a[b])}).join("&")},a.serializeObjectForHeader=function(a){return Object.keys(a).map(function(b){return b+": "+encodeURIComponent(a[b])}).join("\n")},a}();a.HttpUtils=b}(Growthbeat||(Growthbeat={}));